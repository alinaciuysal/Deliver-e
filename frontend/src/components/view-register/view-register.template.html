<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Register for Deliver-e</title>
</head>
<body>
<div>&nbsp;</div>
<div layout="row" layout-align="center center" layout-margin>

    <md-content>
        <md-tabs class="md-primary" md-dynamic-height="" md-border-bottom="" md-selected="selectedIndex" md-center-tabs="true">

            <md-tab label="Register as User">
                <md-content class="md-padding">
                    <form name="UserRegisterForm">
                        <md-input-container class="md-block">
                            <label>Email</label>
                            <input type="text" name="userEmail" ng-model="$ctrl.userRegister.email" placeholder="email" required="" required minlength="10" maxlength="100" ng-pattern="/^.+@.+\..+$/"//>
                            <div ng-messages="UserRegisterForm.userEmail.$error" ng-hide="UserRegisterForm.userEmail.$valid">
                                <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
                                    Your email must be between 10 and 100 characters long and look like an e-mail address.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Password</label>
                            <input type="password" name="userPassword" ng-model="$ctrl.userRegister.password" placeholder="password" required="" minlength="5" md-maxlength="64"/>
                            <div ng-messages="UserRegisterForm.userPassword.$error" ng-hide="UserRegisterForm.userPassword.$valid">
                                <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
                                    Your password must be between 5 and 64 characters long.
                                </div>
                            </div>
                            <div ng-messages="$ctrl.userRegistrationError" ng-if="UserRegisterFormIsSubmitted && $ctrl.userRegistrationError">
                                <p>&nbsp;</p>
                                <div ng-message="userRegistrationError" class="error">{{$ctrl.userRegistrationError}}</div>
                            </div>
                        </md-input-container>

                        <md-button ng-disabled="!UserRegisterForm.$valid" ng-click="$ctrl.submitUserRegistrationRequest(); UserRegisterFormIsSubmitted = true" class="md-raised md-primary">&nbsp Register &nbsp</md-button>
                    </form>
                </md-content>
            </md-tab>

            <md-tab label="Register as Deliverer">
                <p> Your application will be forwarded to us for an interview after following form is submitted.</p>
                <md-content class="md-padding">
                    <form name="DelivererRegisterForm">

                        <md-input-container class="md-block">
                            <label>Name</label>
                            <md-icon md-svg-icon="face"></md-icon>
                            <input type="text" name="delivererName" ng-model="$ctrl.delivererRegister.name" placeholder="name" required="" ng-pattern="/^[a-zA-Z\s]*$/"/>
                            <div ng-messages="DelivererRegisterForm.delivererName.$error" ng-hide="DelivererRegisterForm.delivererName.$valid">
                                <div ng-message-exp="['required', 'pattern']">
                                    Please enter your name.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Surname</label>
                            <input type="text" name="delivererSurname" ng-model="$ctrl.delivererRegister.surname" placeholder="surname" required="" ng-pattern="/^[a-zA-Z\s]*$/"/>
                            <div ng-messages="DelivererRegisterForm.delivererSurname.$error" ng-hide="DelivererRegisterForm.delivererSurname.$valid">
                                <div ng-message-exp="['required', 'pattern']">
                                    Please enter your surname.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Email</label>
                            <input type="email" name="delivererEmail" ng-model="$ctrl.delivererRegister.email" placeholder="email" required="" required minlength="10" maxlength="100" ng-pattern="/^.+@.+\..+$/"/>
                            <div ng-messages="DelivererRegisterForm.delivererEmail.$error" ng-hide="DelivererRegisterForm.delivererEmail.$valid">
                                <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
                                    Your email must be between 10 and 100 characters long and be a valid e-mail address.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Password</label>
                            <input type="password" name="delivererPassword" ng-model="$ctrl.delivererRegister.password" placeholder="password" required=""/>
                            <div ng-messages="DelivererRegisterForm.delivererPassword.$error" ng-hide="DelivererRegisterForm.delivererPassword.$valid">
                                <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
                                    Your password must be between 5 and 64 characters long.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Birthday</label>
                            <md-datepicker name="delivererBirthday" ng-model="$ctrl.delivererRegister.birthday" required=""></md-datepicker>
                            <div ng-message="required">Please enter your birthday.</div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Address</label>
                            <input type="text" name="delivererAddress" ng-model="$ctrl.delivererRegister.address" required=""/>
                            <div ng-message="required">Please enter your address.</div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Phone Number</label>
                            <input type="text" name="delivererPhoneNumber" ng-model="$ctrl.delivererRegister.phoneNumber" required="" minlength="10" maxlength="15" ng-pattern="/^[0-9]*$/"/>
                            <div ng-messages="DelivererRegisterForm.delivererPhoneNumber.$error" ng-hide="DelivererRegisterForm.delivererPhoneNumber.$valid">
                                <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
                                    Your phone number must be between 10 and 15 characters long and be a valid phone number.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Max Delivery Weight (in kg)</label>
                            <input type="text" name="delivererMaxWeight" ng-model="$ctrl.delivererRegister.maxWeight" required="" ng-pattern="/^[0-9]+$/"/>
                            <div ng-messages="DelivererRegisterForm.delivererMaxWeight.$error" ng-hide="DelivererRegisterForm.delivererMaxWeight.$valid">
                                <div ng-message-exp="['required', 'pattern']">
                                    Please enter maximum amount that you can carry for a delivery.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Preferred Locations</label>
                            <md-select ng-model="selectedLocation" name="selectedCity" required="" ng-change="$ctrl.resetDistricts()">
                                <md-optgroup label="locations">
                                    <md-option ng-value="location"
                                               ng-repeat="location in $ctrl.availableLocations">{{location.name}}
                                    </md-option>
                                </md-optgroup>
                            </md-select>
                            <div ng-messages="DelivererRegisterForm.selectedCity.$error" ng-hide="DelivererRegisterForm.selectedCity.$valid">
                                <div ng-message-exp="['required']">
                                    Please enter at least one city.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Preferred Districts</label>
                                <md-select name="selectedDistrict" ng-model="$ctrl.delivererRegister.selectedDistricts" data-md-container-class="selectdemoSelectHeader" required="" multiple>
                                <!--<md-select-header class="demo-select-header">
                                    <input ng-model="searchTerm"
                                           ng-keydown="$event.stopPropagation()"
                                           type="search"
                                           placeholder="Search for a district.."
                                           class="demo-header-searchbox md-text">
                                </md-select-header>-->
                                <md-optgroup label="districts">
                                    <md-option ng-value="district" ng-repeat="district in selectedLocation.districts | filter:searchTerm">{{district}}</md-option>
                                </md-optgroup>
                            </md-select>
                            <div ng-messages="DelivererRegisterForm.selectedDistrict.$error" ng-hide="DelivererRegisterForm.selectedDistrict.$valid">
                                <div ng-message-exp="['required']">
                                    Please enter at least one district.
                                </div>
                            </div>

                            <div ng-messages="$ctrl.delivererRegistrationError" ng-if="DelivererRegisterFormIsSubmitted && $ctrl.delivererRegistrationError">
                                <p>&nbsp;</p>
                                <div ng-message="delivererRegistrationError" class="error">{{$ctrl.delivererRegistrationError}}</div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <md-button ng-disabled="!DelivererRegisterForm.$valid" ng-click="$ctrl.submitDelivererRegistrationRequest(); DelivererRegisterFormIsSubmitted = true" class="md-raised md-primary">&nbsp Register &nbsp</md-button>
                        </md-input-container>
                    </form>
                </md-content>
            </md-tab>

            <md-tab label="Register as Shop">
                <md-content class="md-padding">
                    <form name="ShopRegisterForm">

                        <md-input-container class="md-block">
                            <label>Account Email</label>
                            <input type="email" name="shopEmail" ng-model="$ctrl.shopRegister.email" required="" required minlength="10" maxlength="100" ng-pattern="/^.+@.+\..+$/"/>
                            <div ng-messages="ShopRegisterForm.shopEmail.$error" ng-hide="ShopRegisterForm.shopEmail.$valid">
                                <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
                                    Your email must be between 10 and 100 characters long and look like an e-mail address.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Account Password</label>
                            <input type="password" name="shopPassword" ng-model="$ctrl.shopRegister.password" required=""/>
                            <div ng-messages="ShopRegisterForm.shopPassword.$error" ng-hide="ShopRegisterForm.shopPassword.$valid">
                                <div ng-message-exp="['required', 'minlength', 'maxlength', 'pattern']">
                                    Your password must be between 5 and 64 characters long.
                                </div>
                            </div>
                        </md-input-container>

                        <div>
                            Details of your Shop
                        </div>
                        <md-input-container class="md-block">
                            <label>Name</label>
                            <input type="text" name="shopName" ng-model="$ctrl.shopRegister.shopName" required="" ng-pattern="/^[a-zA-Z0-9 -]*$/"/>
                            <div ng-messages="ShopRegisterForm.shopName.$error" ng-hide="ShopRegisterForm.shopName.$valid">
                                <div ng-message-exp="['required', 'pattern']">
                                    Please enter shop's name.
                                </div>
                            </div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Address</label>
                            <input type="text" name="shopAddress" ng-model="$ctrl.shopRegister.shopAddress" required=""/>
                            <div ng-message="required">Please enter shop's address.</div>
                        </md-input-container>

                        <md-input-container class="md-block">
                            <label>Phone Number</label>
                            <input type="text" name="shopPhoneNumber" ng-model="$ctrl.shopRegister.shopPhoneNumber" required="" ng-pattern="/^[0-9]*$/"/>
                            <div ng-messages="ShopRegisterForm.shopPhoneNumber.$error" ng-hide="ShopRegisterForm.shopPhoneNumber.$valid">
                                <div ng-message-exp="['required', 'pattern']">
                                    Please enter shop's phone number.
                                </div>
                            </div>

                            <div ng-messages="$ctrl.shopRegistrationError" ng-if="ShopRegisterFormIsSubmitted && $ctrl.shopRegistrationError">
                                <p>&nbsp;</p>
                                <div ng-message="shopRegistrationError" class="error">{{$ctrl.shopRegistrationError}}</div>
                            </div>
                        </md-input-container>
                        <md-button ng-disabled="!ShopRegisterForm.$valid" ng-click="$ctrl.submitShopRegistrationRequest(); ShopRegisterFormIsSubmitted = true" class="md-raised md-primary">&nbsp Register &nbsp</md-button>
                    </form>
                </md-content>
            </md-tab>

        </md-tabs>

    </md-content>
</div>
</body>
</html>